# スケジュールとカレンダー

スケジュールモジュールは、クリニックの日常業務の中心です。予約、プロバイダーの空き状況、遠隔医療セッションをすべて一箇所で管理します。

---

## スケジュールへのアクセス

1. サイドバーの**スケジュール**をクリック
2. またはダッシュボードのクイックアクションを使用
3. URL：`/admin/scheduling`

---

## スケジュールタブ

スケジュールページには4つのメインタブがあります：

| タブ | 目的 |
|------|------|
| **カレンダー** | ビジュアルカレンダービュー |
| **予約** | すべての予約のリストビュー |
| **遠隔医療** | ビデオ相談管理 |
| **空き状況** | プロバイダースケジュール設定 |

---

## カレンダービュー

### カレンダーナビゲーション

**日付ナビゲーション：**
- **今日**：現在の日付にジャンプ
- **< >**：前後に移動
- **週/月セレクター**：ビュータイプを変更

**ビューオプション：**
- 日ビュー：時間別の内訳
- 週ビュー：7日間の概要
- 月ビュー：月間カレンダー

### カレンダーの理解

**ステータス別予約色：**
| 色 | ステータス |
|-----|----------|
| 🔵 青 | 予定済み |
| 🟢 緑 | 確認済み |
| ⬜ グレー | 完了 |
| 🔴 赤 | キャンセル |

**予約タイプ：**
- **対面**：標準的なオフィス訪問
- **遠隔医療**：ビデオ相談（ビデオアイコン付き）

### カレンダーの操作

**空き時間帯をクリック：**
- 新規予約モーダルを開く
- 日付と時間が事前入力

**予約をクリック：**
- 予約詳細モーダルを開く
- 患者情報、メモ、ステータスを表示

**ドラッグ＆ドロップ：**
- 予約をドラッグしてリスケジュール
- 確認ダイアログが表示
- 患者に自動通知を送信

---

## 予約の作成

### 方法1：カレンダーから

1. 空き時間帯をクリック
2. 予約フォームを入力
3. **作成**をクリック

### 方法2：新規予約ボタンから

1. **+ 新規予約**ボタンをクリック
2. 日付、時間、所要時間を選択
3. 詳細を入力
4. **作成**をクリック

### 方法3：患者プロファイルから

1. 患者詳細に移動
2. カレンダーアイコンをクリック
3. 予約フォームを完成
4. **作成**をクリック

---

### 予約フォームフィールド

**必須フィールド：**
| フィールド | 説明 |
|------------|------|
| 患者 | 患者リストから選択 |
| プロバイダー | 予約にプロバイダーを割り当て |
| 日付 | 予約日 |
| 時間 | 開始時間 |
| 所要時間 | 分単位の長さ |
| タイプ | 予約タイプ |

**オプションフィールド：**
| フィールド | 説明 |
|------------|------|
| メモ | 内部メモ |
| 理由 | 来院理由 |
| フォローアップ | フォローアップ訪問としてマーク |

### 予約タイプ

| タイプ | 説明 |
|--------|------|
| 新規患者 | 新規患者の初回訪問 |
| フォローアップ | 継続ケア訪問 |
| 年次検診 | 年間検査 |
| 相談 | 初回相談 |
| 遠隔医療 | バーチャルビデオ訪問 |
| 緊急 | 当日緊急ケア |

---

## 予約詳細

任意の予約をクリックして詳細を表示：

### 詳細モーダルセクション

**患者情報：**
- 名前と連絡先情報
- 医療記録番号
- 保険情報

**予約情報：**
- 日付と時間
- 所要時間
- 割り当てプロバイダー
- 予約タイプ
- ステータス

**メモ：**
- 内部メモ
- 来院理由
- プロバイダーコメント

### 予約アクション

詳細モーダルからできること：
| アクション | 説明 |
|------------|------|
| **編集** | 予約詳細を修正 |
| **リスケジュール** | 日付/時間を変更 |
| **キャンセル** | 予約をキャンセル |
| **完了としてマーク** | 予約を閉じる |
| **遠隔医療を開始** | ビデオセッションを起動 |
| **患者を表示** | 患者プロファイルに移動 |

---

## 予約ステータスワークフロー

```
予定済み → 確認済み → 進行中 → 完了
               ↓
           キャンセル
               ↓
           不参加
```

### ステータスの説明

| ステータス | 意味 |
|------------|------|
| **予定済み** | 初期予約 |
| **確認済み** | 患者が出席を確認 |
| **進行中** | 予約が現在進行中 |
| **完了** | 訪問が正常に終了 |
| **キャンセル** | 予約がキャンセルされた |
| **不参加** | 患者が来なかった |

### ステータスの変更

1. 予約詳細を開く
2. ステータスドロップダウンをクリック
3. 新しいステータスを選択
4. 必要に応じてメモを追加
5. 変更を保存

---

## 空き状況の管理

### 空き状況設定へのアクセス

1. スケジュール → 空き状況タブに移動
2. リストからプロバイダーを選択
3. スケジュールを表示/編集

### 週間スケジュールの設定

各曜日について：

1. **空き状況をトグル**：日を利用可能または休業としてマーク
2. **勤務時間を設定**：開始と終了時間
3. **休憩時間を追加**：昼食、会議など

### 週間スケジュール例

| 曜日 | 利用可能 | 時間 | 休憩 |
|------|----------|------|------|
| 月曜日 | ✅ | 9:00 - 17:00 | 12:00 - 13:00 |
| 火曜日 | ✅ | 9:00 - 17:00 | 12:00 - 13:00 |
| 水曜日 | ✅ | 9:00 - 12:00 | — |
| 木曜日 | ✅ | 9:00 - 17:00 | 12:00 - 13:00 |
| 金曜日 | ✅ | 9:00 - 16:00 | 12:00 - 13:00 |
| 土曜日 | ❌ | — | — |
| 日曜日 | ❌ | — | — |

### 空き状況の保存

1. スケジュールを変更
2. 空き状況カレンダーで**保存**をクリック
3. 変更は将来の予約に適用

---

## 予約リストビュー

予約タブはリスト形式を表示：

### リスト機能

- 日付、患者、プロバイダーで並べ替え
- ステータスでフィルター
- 予約を検索
- クイックステータス更新

### リスト列

| 列 | 説明 |
|-----|------|
| 患者 | 患者名（クリック可能） |
| 日付/時間 | 予約日時 |
| 所要時間 | 分単位の長さ |
| タイプ | 予約タイプ |
| プロバイダー | 割り当てプロバイダー |
| ステータス | 現在のステータスバッジ |
| アクション | 編集、表示、キャンセルボタン |

---

## 遠隔医療セッション

### 遠隔医療セッションの開始

1. スケジュール → 遠隔医療タブに移動
2. スケジュールされた遠隔医療予約を見つける
3. **セッションを開始**をクリック（予約時間近くで利用可能）
4. ビデオインターフェースが開く

### 遠隔医療の要件

**プロバイダーの要件：**
- 動作するウェブカメラ
- マイク
- 安定したインターネット接続
- サポートされているブラウザ（Chrome、Firefox、Safari）

**患者の要件：**
- 参加リンク付きの招待メール
- カメラ/マイク付きのデバイス
- インターネット接続

### セッション中

**プロバイダーコントロール：**
- マイクのミュート/ミュート解除
- カメラの有効化/無効化
- 画面共有
- セッション終了

**セッション機能：**
- HDビデオ通話
- 画面共有
- セッション録画（有効な場合）
- チャットメッセージング

### セッション後

1. プロバイダーが閉じるとセッションが自動終了
2. 予約ステータスを「完了」に更新
3. 必要に応じてセッションメモを追加
4. 設定されている場合は患者にフォローアップを送信

---

## 予約のリスケジュール

### 方法1：ドラッグ＆ドロップ

1. カレンダービューで予約をクリックして保持
2. 新しい日付/時間にドラッグ
3. リリースしてドロップ
4. リスケジュールを確認

### 方法2：予約を編集

1. 予約詳細を開く
2. **リスケジュール**または**編集**をクリック
3. 新しい日付と時間を選択
4. 変更を保存

### 自動通知

リスケジュール時：
- 患者にメール/SMSで通知
- プロバイダーカレンダーが自動更新
- 元のスロットが利用可能に

---

## 予約のキャンセル

1. 予約詳細を開く
2. **予約をキャンセル**をクリック
3. キャンセル理由を選択（オプション）
4. キャンセルを確認

**キャンセルの効果：**
- 時間帯が利用可能に
- 患者に通知
- 予約が「キャンセル」ステータスに移動
- レポート用に記録が保存

---

## ベストプラクティス

### スケジュール
1. 予約間にバッファ時間を残す
2. 現実的な予約所要時間を設定
3. 管理タスク用の時間をブロック
4. 毎晩翌日のスケジュールを確認

### 空き状況
1. 空き状況を最新に保つ
2. 事前に休暇をブロック
3. 患者の移動時間を考慮
4. 緊急事態に備えて計画

### 遠隔医療
1. セッション前に機器をテスト
2. バックアップ連絡方法を用意
3. プロフェッショナルな環境を維持
4. セッションメモを迅速に記録

---

## トラブルシューティング

### ダブルブッキング
- 設定で重複防止を有効化
- プロバイダーの空き状況設定を確認
- 競合警告システムを使用

### 予約が表示されない
- 患者がアクティブか確認
- 日付範囲フィルターを確認
- プロバイダーフィルターを確認
- ページを更新

### 遠隔医療の問題
- ブラウザの互換性を確認
- カメラ/マイクの権限を確認
- インターネット接続をテスト
- ブラウザキャッシュをクリア

### 空き状況が保存されない
- 検証エラーを確認
- 時間が有効であることを確認
- 休憩時間と勤務時間が重ならないように
- 別のブラウザを試す

---

## プラン制限

### プラン別予約制限

| プラン | 予約 | 遠隔医療 |
|--------|------|---------|
| 無料 | 10/月 | ❌ |
| スターター | 無制限 | 5/月 |
| プロフェッショナル | 無制限 | 無制限 |
| グロース | 無制限 | 無制限 |

制限に近づくと警告バナーが表示されます。制限を解除するにはプランをアップグレードしてください。

---

*前へ：[スタッフ管理](./05-スタッフ管理.md) | 次へ：[メッセージとリード管理 →](./07-コミュニケーション.md)*
